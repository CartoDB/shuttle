(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)s=i[u],o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/airsephora/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0ae8":function(t,e){t.exports="const map = L.map('map').fitBounds([\n  [<%- data.map.extent[1] -%>, <%- data.map.extent[0] -%>], [<%- data.map.extent[3] -%>, <%- data.map.extent[2] -%>]\n]);\nmap.scrollWheelZoom.disable();\n\nL.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/<%- data.map.basemap -%>/{z}/{x}/{y}.png', {\n  maxZoom: 18\n}).addTo(map);\n\nconst client = new carto.Client({\n  apiKey: '<%- data.apiKey -%>',\n  username: '<%- data.username -%>'\n});\n\nconst column = '<%- data.map.column -%>';\n<% if (data.map.colorRamp) { %>\nconst colorRamp = '<%- data.map.colorRamp -%>';\n<% } %>\n\n<% if (data.map.type === 'choropleth') { %>\n  const source = new carto.source.SQL(`SELECT *, ${column}/ST_Area(the_geom) as norm_col FROM <%- data.map.dataset -%>`);\n<% } else { %>\n  const source = new carto.source.Dataset('<%- data.map.dataset -%>');\n<% } %>\n\n<% if (data.map.columnType !== 'date') { %>\n  <% if (data.map.type === 'default') { %>\n    <% if (data.map.geometry === 'point') { %>\n      const marker_width = 7;\n      const marker_fill = '#EE4D5A';\n    <% } %>\n\n    <% if (data.map.geometry === 'line') { %>\n      const line_width = 1.5;\n      const line_color = '#4CC8A3';\n    <% } %>\n\n    <% if (data.map.geometry === 'polygon') { %>\n      const polygon_fill = '#826DBA';\n    <% } %>\n  <% } %>\n\n  <% if (data.map.type === 'bubbles') { %>\n    <% if (data.map.geometry === 'point') { %>\n      const marker_width = `ramp([${column}], range(2,15), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n      const marker_fill = '#EE4D5A';\n    <% } %>\n    <% if (data.map.geometry === 'line') { %>\n      const line_width = `ramp([${column}], range(1,2.5), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n      const line_color = '#4CC8A3';\n    <% } %>\n  <% } %>\n\n  <% if (data.map.type === 'category') { %>\n    <% if (data.map.geometry === 'point') { %>\n      const marker_width = 7;\n      const marker_fill = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n\n    <% if (data.map.geometry === 'line') { %>\n      const line_width = 1.5;\n      const line_color = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n\n    <% if (data.map.geometry === 'polygon') { %>\n      const polygon_fill = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n  <% } %>\n\n  <% if (data.map.type === 'choropleth') { %>\n    <% if (data.map.geometry === 'polygon') { %>\n      const polygon_fill = `ramp([norm_col], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n  <% } %>\n\n  <% if (data.map.type === 'gradient') { %>\n    <% if (data.map.geometry === 'point') { %>\n      const marker_width = 7;\n      const marker_fill = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n\n    <% if (data.map.geometry === 'line') { %>\n      const line_width = 1.5;\n      const line_color = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n    <% } %>\n  <% } %>\n\n  <% if (data.map.type === 'flow') { %>\n  const line_width = `ramp([${column}], range(1,2.5), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n  const line_color = `ramp([${column}], cartocolor(${colorRamp}), <%- data.map.columnType === 'number' ? 'quantiles' : 'category' -%>(7))`;\n  <% } %>\n<% } else { %>\n  const marker_width = 7;\n  const marker_fill = '#EE4D5A';\n<% } %>\n\nconst cartoCSSStyle = new carto.style.CartoCSS(`\n  <% if (data.map.geometry === 'point') { %>\n  #layer['mapnik::geometry_type'=1] {\n    marker-width: ${marker_width};\n    marker-fill: ${marker_fill};\n    marker-fill-opacity: 0.9;\n    marker-line-color: #FFFFFF;\n    marker-line-width: 1;\n    marker-line-opacity: 1;\n    marker-type: ellipse;\n    marker-allow-overlap: false;\n  }\n  <% } %>\n  <% if (data.map.geometry === 'line') { %>\n  #layer['mapnik::geometry_type'=2] {\n    line-color: ${line_color};\n    line-width: ${line_width};\n    line-opacity: 1;\n  }\n  <% } %>\n  <% if (data.map.geometry === 'polygon') { %>\n  #layer['mapnik::geometry_type'=3] {\n    polygon-fill: ${polygon_fill};\n    polygon-opacity: 0.9;\n    ::outline {\n        line-color: #FFFFFF;\n        line-width: 1;\n        line-opacity: 0.5;\n    }\n  }\n  <% } %>`);\n\nconst layer = new carto.layer.Layer(source, cartoCSSStyle);\n\nclient.addLayer(layer);\nclient.getLeafletLayer().addTo(map);\n"},"13d0":function(t,e){t.exports="const map = new mapboxgl.Map({\n  container: 'map',\n  style: 'https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json',\n  center: [0, 30],\n  zoom: 2,\n  scrollZoom: false,\n  dragRotate: false,\n  touchZoomRotate: false,\n});\n\nmap.fitBounds([\n  [<%- data.map.extent[0] -%>, <%- data.map.extent[1] -%>], [<%- data.map.extent[2] -%>, <%- data.map.extent[3] -%>]\n]);\n\nconst nav = new mapboxgl.NavigationControl({\n  showCompass: false\n});\nmap.addControl(nav, 'top-left');\n\n// Define user\ncarto.setDefaultAuth({\n  apiKey: '<%- data.apiKey -%>',\n  user: '<%- data.username -%>'\n});\n\nconst column = '$<%- data.map.column -%>';\nconst cartoColorRamp = '<%- data.map.colorRamp -%>';\n\n<% if (data.map.type === 'default' || data.map.type === 'animated') { %>\n  <% if (data.map.geometry === 'point') { %>\n    const width = 7;\n  <% } else { %>\n    const width = 1.5;\n  <% } %>\n\n  const color = '#EE4D5A';\n<% } %>\n\n<% if (data.map.type === 'bubbles' || data.map.type === 'flow') { %>\n  const width = `ramp(sqrt(linear(clusterSum(${column}))), [3, 30])\\nresolution: 8`;\n  const color = '#EE4D5A'\n<% } %>\n\n<% if (data.map.type === 'category' || data.map.type === 'choropleth' || data.map.type === 'gradient') { %>\n  const width = `7`;\n  <% if (data.map.columnType === 'number') { %>\n    const color = `ramp(viewportQuantiles(${column}, 7), ${cartoColorRamp})`;\n  <% } else if (data.map.columnType === 'string') { %>\n    const color = `ramp(${column}, ${cartoColorRamp})`;\n  <% } %>\n<% } %>\n\n// Define layer\nconst source = new carto.source.Dataset('<%- data.map.dataset -%>');\nconst viz = new carto.Viz(`\n  width: ${width}\n  color: ${color}\n  <% if (data.map.type === 'animated') { %>\n  filter: animation(linear(${column},globalMin(${column}),globalMax(${column})),30,fade(0.1,0.5))\n  <% } %>\n`);\nconst layer = new carto.Layer('layer', source, viz);\n\nlayer.addTo(map, 'watername_ocean');\n"},"14e2":function(t,e,a){"use strict";var n=a("d8d6"),o=a.n(n);o.a},"1b13":function(t,e,a){"use strict";a.r(e);var n=a("c93e"),o=a("d491"),r=a.n(o),s=a("e552"),i=a("2140"),l=a.n(i),c=a("9fb4"),d=a.n(c),u=a("2b98"),p=a.n(u),f=a("492c"),m=a.n(f),h=a("6550"),g=a.n(h),b=a("a5d3"),y=a.n(b);e["default"]=function(t){var e={airship:m.a,cartovl:g.a,cartojs:y.a},a=Object(n["a"])({libraries:e},t);return{files:{"src/app.js":Object(s["js"])(r.a.render(l.a,a),{max_preserve_newlines:2,preserve_newlines:!0}),"index.html":Object(s["html"])(r.a.render(d.a,a),{max_preserve_newlines:2,preserve_newlines:!0})},inject:r.a.render(p.a,a)}}},"1f91":function(t,e,a){"use strict";var n=a("7f9f"),o=a.n(n);o.a},"20b1":function(t,e){t.exports='<div class="as-map-footer">\n  <div class="as-container">\n    <div class="as-box"></div>\n  </div>\n</div>\n'},2140:function(t,e){t.exports="<%- visualization.code -%>\n"},"23cd":function(t,e,a){var n=a("d491"),o=a("e7d4");t.exports=function(t){return n.render(o,t)}},"2b98":function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n\n  <title>Project Title</title>\n\n  <%- libraries[visualization.library] -%>\n\n  <%- libraries[\'airship\'] -%>\n\n  <%- style -%>\n</head>\n\n<body class="as-app<% if (options.toolbar) { %> as-app--nav-<%- options.toolbar.position -%><% } %>">\n  <%- layout -%>\n\n  <script>\n    (function () {\n      <%- visualization.code -%>\n    })();\n  <\/script>\n</body>\n\n</html>\n'},"2c91":function(t,e,a){},"35fd":function(t,e,a){"use strict";var n=a("6078"),o=a.n(n);o.a},"41cd":function(t,e,a){"use strict";var n=a("2c91"),o=a.n(n);o.a},"492c":function(t,e){t.exports='\x3c!-- Include CSS  --\x3e\n<link rel="stylesheet" href="https://libs.cartocdn.com/airship-style/v1.0.0-alpha.44/airship.css">\n\x3c!-- Include Icons --\x3e\n<link rel="stylesheet" href="https://libs.cartocdn.com/airship-icons/v1.0.0-alpha.44/icons.css">\n\x3c!-- Include Web Components --\x3e\n<script src="https://libs.cartocdn.com/airship-components/v1.0.0-alpha.44/airship.js"><\/script>\n'},4935:function(t,e,a){t.exports=a.p+"img/darkmatter.10514709.png"},"55ef":function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return r});var n=a("d491"),o=a.n(n);function r(t){var e=a("7081")("./".concat(t.library,".template.code"));return{library:t.library,code:o.a.render(e,t)}}},5614:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.onHome?t._e():a("aside",{staticClass:"header"},[a("div",{staticClass:"header-progress"},[a("ProgressBar",{attrs:{progress:t.progress}}),a("div",{staticClass:"header-progressInner"},[a("h1",{staticClass:"header-progressTitle"},[t._v("Shuttle")]),a("p",{staticClass:"header-progresshelp"},[t._v(t._s(t.helpForStep))]),a("Progress",{attrs:{completedSteps:t.completedSteps,index:t.routeIndex}})],1)],1),a("ul",{staticClass:"header-actions"},[a("li",[a("button",{staticClass:"header-button is-prev",attrs:{disabled:t.previousButtonDisabled},on:{click:t.previousStep}},[t._v("\n          Previous\n        ")])]),a("li",[a("button",{staticClass:"header-button",attrs:{disabled:t.nextButtonDisabled},on:{click:t.completeStep}},[t._v("\n          "+t._s(t.nextButtonCaption)+"\n        ")])])])]),a("div",{staticClass:"main-view"},[a("router-view")],1)])},r=[],s=(a("7f7f"),a("8c4f")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[a("svg",{attrs:{width:"102px",height:"136px",viewBox:"0 0 102 136",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("desc",[t._v("Created with Sketch.")]),a("defs"),a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"space-shuttle","fill-rule":"nonzero"}},[a("path",{attrs:{d:"M33,116 L69,116 L69,26.7692554 C69,16.9132076 60.9409451,0 51,0 C41.0590549,0 33,16.9128871 33,26.7692554 L33,116 Z",id:"Shape",fill:"#FFFFFF"}}),a("g",{attrs:{id:"Group",transform:"translate(30.000000, 127.000000)",fill:"#000000"}},[a("rect",{attrs:{id:"Rectangle-path",x:"0.114559701",y:"0.287689655",width:"17.8665",height:"8.63937931"}}),a("rect",{attrs:{id:"Rectangle-path",x:"25.0189403",y:"0.287689655",width:"17.8665",height:"8.63937931"}})]),a("path",{attrs:{d:"M33,80 L0.62756343,112.368447 C-0.712975738,113.708821 0.236330339,116 2.1320325,116 L33,116",id:"Shape",fill:"#000000"}}),a("path",{attrs:{d:"M69,80 L101.372437,112.368447 C102.712976,113.708821 101.76367,116 99.8679675,116 L69,116",id:"Shape",fill:"#000000"}}),a("path",{attrs:{d:"M23.0003233,126 L50,126 L50,59.333493 C50,51.969706 43.955745,46 36.5,46 C29.044255,46 23,51.969706 23,59.333493 L23,126 L23.0003233,126 Z",id:"Shape",fill:"#000000"}}),a("path",{attrs:{d:"M51.0003233,126 L78,126 L78,59.333493 C78,51.969706 71.955745,46 64.5,46 C57.044255,46 51,51.969706 51,59.333493 L51,126 L51.0003233,126 Z",id:"Shape",fill:"#000000"}}),a("path",{attrs:{d:"M51,9 C54.9802189,9 58.5516932,7.82739421 61,5.96874775 C58.14839,2.42054027 54.706869,0 51,0 C47.293131,0 43.85161,2.42118687 41,5.96842446 C43.4483068,7.82707091 47.0197811,9 51,9 Z",id:"Shape",fill:"#000000"}}),a("path",{attrs:{d:"M44.6362281,27 L57.3637719,27 C58.8202604,27 60,25.8195502 60,24.3636298 L60,20.6363702 C60,19.1798031 58.8196138,18 57.3637719,18 L44.6362281,18 C43.1797396,18 42,19.1804498 42,20.6363702 L42,24.3636298 C42,25.8192269 43.1807095,27 44.6362281,27 Z",id:"Shape",fill:"#000000"}})])])]),a("h1",{staticClass:"home-title"},[t._v("Shuttle")]),a("p",{staticClass:"home-description"},[t._v("Configure your application, choose your colors, layout, and the CARTO stack")]),a("button",{staticClass:"home-button",on:{click:t.gotoConfig}},[t._v("Configure")])])])},l=[],c={methods:{gotoConfig:function(){this.$router.push({name:_t[0]})}}},d=c,u=(a("7505"),a("2877")),p=Object(u["a"])(d,i,l,!1,null,"7a7d05a6",null);p.options.__file="Home.vue";var f=p.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"color-wrapper"},[a("div",{staticClass:"colorBar",style:{"background-color":t.primaryColor}},[a("span",{staticClass:"color-label color-type"},[t._v("Primary")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.primaryColor,expression:"primaryColor"}],staticClass:"color-label color-value",attrs:{spellcheck:"false"},domProps:{value:t.primaryColor},on:{input:function(e){e.target.composing||(t.primaryColor=e.target.value)}}})]),a("div",{staticClass:"colorBar",style:{"background-color":t.secondaryColor}},[a("span",{staticClass:"color-label color-type"},[t._v("Secondary")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.secondaryColor,expression:"secondaryColor"}],staticClass:"color-label color-value",attrs:{spellcheck:"false"},domProps:{value:t.secondaryColor},on:{input:function(e){e.target.composing||(t.secondaryColor=e.target.value)}}})]),a("div",{staticClass:"colorBar",style:{"background-color":t.complementaryColor}},[a("span",{staticClass:"color-label color-type"},[t._v("Complementary")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.complementaryColor,expression:"complementaryColor"}],staticClass:"color-label color-value",attrs:{spellcheck:"false"},domProps:{value:t.complementaryColor},on:{input:function(e){e.target.composing||(t.complementaryColor=e.target.value)}}})])])},h=[],g={name:"Colors",computed:{primaryColor:{get:function(){return this.$store.state.color.primary},set:function(t){7===t.length&&this.$store.commit("setPrimaryColorAndRandomize",t)}},secondaryColor:{get:function(){return this.$store.state.color.secondary},set:function(t){this.$store.commit("setSecondaryColor",t)}},complementaryColor:{get:function(){return this.$store.state.color.complementary},set:function(t){this.$store.commit("setComplementaryColor",t)}}},methods:{onKeyUp:function(t){32===t.keyCode&&this.$store.dispatch("randomizeColors")}},mounted:function(){window.addEventListener("keyup",this.onKeyUp,this)},destroyed:function(){window.removeEventListener("keyup",this.onKeyUp,this)}},b=g,y=(a("8220"),Object(u["a"])(b,m,h,!1,null,"24a6a6f8",null));y.options.__file="Colors.vue";var C=y.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner"},[a("div",{staticClass:"container"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basemap,expression:"basemap"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.basemap=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"voyager",selected:""}},[t._v("Voyager")]),a("option",{attrs:{value:"darkmatter"}},[t._v("Dark Matter")])]),a("div",{staticClass:"browser"},[t._m(0),a("div",{staticClass:"browser-inner"},[a("div",{staticClass:"browser-bar"},[a("ul",{staticClass:"browser-barIcons"},[a("li",{staticClass:"browser-barIconsItem"},[a("svg",{attrs:{width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{d:"M1.26544797,3.62351861 L7.25879652,3.62351861 L7.25879652,4.37648139 L1.26544797,4.37648139 L3.78796516,7.52962788 L3.2,8 L0,4 L3.2,0 L3.78796516,0.470372124 L1.26544797,3.62351861 Z",id:"Combined-Shape",fill:"#BABCBE","fill-rule":"nonzero"}})])])]),a("li",{staticClass:"browser-barIconsItem"},[a("svg",{attrs:{width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{d:"M1.26544797,3.62351861 L7.25879652,3.62351861 L7.25879652,4.37648139 L1.26544797,4.37648139 L3.78796516,7.52962788 L3.2,8 L0,4 L3.2,0 L3.78796516,0.470372124 L1.26544797,3.62351861 Z",id:"Combined-Shape-Copy",fill:"#BABCBE","fill-rule":"nonzero",transform:"translate(3.629398, 4.000000) rotate(-180.000000) translate(-3.629398, -4.000000) "}})])])])]),t._m(1)]),t.easterEgg?a("div",{staticClass:"bookmarks-bar"},[t._m(2),t._m(3),t._m(4),a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/"+t.hamOrButi}}),a("span",[t._v("7R")])]),t._m(5),t._m(6),t._m(7)]):t._e(),a("BrowserDrop",{attrs:{basemap:t.currentBasemap,draggingElement:t.draggingElement}})],1)]),a("ul",{staticClass:"template-inner"},[a("li",{staticClass:"template-innerItem",class:{"is-inactive":t.hasToolbar},attrs:{draggable:"true","data-type":"lateralToolbar"},on:{mouseover:t.onDrag,mouseout:t.onDragEnd,drag:t.onDrag,dragend:t.onDragEnd}},[a("div",{staticClass:"template-innerItemMedia"},[a("svg",{attrs:{width:"92px",height:"61px",viewBox:"0 0 92 61",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Group-6","fill-rule":"nonzero"}},[a("rect",{attrs:{id:"Rectangle-2-Copy-14",fill:"#EEEEEE",x:"0",y:"0",width:"92",height:"61"}}),a("rect",{attrs:{id:"Rectangle",fill:"#D5D5D5",x:"38",y:"7",width:"13",height:"47"}}),a("rect",{attrs:{id:"Rectangle-4","fill-opacity":"0.4",fill:"#FFFFFF",x:"41",y:"44",width:"7",height:"7"}})])])])]),a("p",[t._v("Lateral Toolbar")])]),a("li",{staticClass:"template-innerItem",class:{"is-inactive":t.hasToolbar},attrs:{draggable:"true","data-type":"topToolbar"},on:{mouseover:t.onDrag,mouseout:t.onDragEnd,drag:t.onDrag,dragend:t.onDragEnd}},[a("div",{staticClass:"template-innerItemMedia"},[a("svg",{attrs:{width:"92px",height:"61px",viewBox:"0 0 92 61",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Group-7","fill-rule":"nonzero"}},[a("rect",{attrs:{id:"Rectangle-2-Copy-15",fill:"#EEEEEE",x:"0",y:"0",width:"92",height:"61"}}),a("rect",{attrs:{id:"Rectangle-Copy",fill:"#D5D5D5",x:"7",y:"7",width:"77",height:"13"}}),a("rect",{attrs:{id:"Rectangle-4-Copy","fill-opacity":"0.4",fill:"#FFFFFF",x:"10",y:"10",width:"7",height:"7"}})])])])]),a("p",[t._v("Top Toolbar")])]),a("li",{staticClass:"template-innerItem",class:{"is-inactive":t.hasAllSidebars},attrs:{draggable:"true","data-type":"sidebar"},on:{mouseover:t.onDrag,mouseout:t.onDragEnd,drag:t.onDrag,dragend:t.onDragEnd}},[a("div",{staticClass:"template-innerItemMedia"},[a("svg",{attrs:{width:"92px",height:"61px",viewBox:"0 0 92 61",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Group-8","fill-rule":"nonzero"}},[a("rect",{attrs:{id:"Rectangle-2-Copy-16",fill:"#EEEEEE",x:"0",y:"0",width:"92",height:"61"}}),a("g",{attrs:{id:"Group-5",transform:"translate(18.000000, 9.000000)"}},[a("rect",{attrs:{id:"Rectangle-Copy-2",fill:"#D5D5D5",x:"0",y:"0",width:"57",height:"43"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-2","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"4",width:"39",height:"6"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-3","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"14",width:"19",height:"16"}})]),a("rect",{attrs:{id:"Rectangle-4-Copy-4","fill-opacity":"0.4",fill:"#FFFFFF",x:"23",y:"44",width:"29",height:"3"}})])])])]),a("p",[t._v("Sidebar")])]),a("li",{staticClass:"template-innerItem",class:{"is-inactive":t.hasFooter},attrs:{draggable:"true","data-type":"footer"},on:{mouseover:t.onDrag,mouseout:t.onDragEnd,drag:t.onDrag,dragend:t.onDragEnd}},[a("div",{staticClass:"template-innerItemMedia"},[a("svg",{attrs:{width:"92px",height:"61px",viewBox:"0 0 92 61",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("desc",[t._v("Created with Sketch.")]),a("defs"),a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Group-9","fill-rule":"nonzero"}},[a("rect",{attrs:{id:"Rectangle-2-Copy-17",fill:"#EEEEEE",x:"0",y:"0",width:"92",height:"61"}}),a("g",{attrs:{id:"Group-5-Copy",transform:"translate(8.000000, 27.000000)"}},[a("rect",{attrs:{id:"Rectangle-Copy-2",fill:"#D5D5D5",x:"0",y:"0",width:"77",height:"28"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-3","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"4",width:"29",height:"2"}})]),a("rect",{attrs:{id:"Rectangle-4-Copy-5","fill-opacity":"0.4",fill:"#FFFFFF",x:"14",y:"44",width:"4",height:"6"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-6","fill-opacity":"0.4",fill:"#FFFFFF",x:"20",y:"41",width:"4",height:"9"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-7","fill-opacity":"0.4",fill:"#FFFFFF",x:"26",y:"39",width:"4",height:"11"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-8","fill-opacity":"0.4",fill:"#FFFFFF",x:"32",y:"43",width:"4",height:"7"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-9","fill-opacity":"0.4",fill:"#FFFFFF",x:"38",y:"40",width:"4",height:"10"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-10","fill-opacity":"0.4",fill:"#FFFFFF",x:"44",y:"38",width:"4",height:"12"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-11","fill-opacity":"0.4",fill:"#FFFFFF",x:"50",y:"42",width:"4",height:"8"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-12","fill-opacity":"0.4",fill:"#FFFFFF",x:"56",y:"39",width:"4",height:"11"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-13","fill-opacity":"0.4",fill:"#FFFFFF",x:"62",y:"41",width:"4",height:"9"}})])])])]),a("p",[t._v("Footer")])]),a("li",{staticClass:"template-innerItem",class:{"is-inactive":t.hasAllPanels},attrs:{draggable:"true","data-type":"panel"},on:{mouseover:t.onDrag,mouseout:t.onDragEnd,drag:t.onDrag,dragend:t.onDragEnd}},[a("div",{staticClass:"template-innerItemMedia"},[a("svg",{attrs:{width:"92px",height:"61px",viewBox:"0 0 92 61",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("desc",[t._v("Created with Sketch.")]),a("defs"),a("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{id:"Group-10","fill-rule":"nonzero"}},[a("rect",{attrs:{id:"Rectangle-2-Copy-18",fill:"#EEEEEE",x:"0",y:"0",width:"92",height:"61"}}),a("g",{attrs:{id:"Group-5-Copy-2",transform:"translate(8.000000, 9.000000)"}},[a("rect",{attrs:{id:"Rectangle-Copy-2",fill:"#D5D5D5",x:"0",y:"0",width:"77",height:"45"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-3","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"5",width:"4",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-23","fill-opacity":"0.4",fill:"#FFFFFF",x:"15",y:"5",width:"44",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-14","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"15",width:"4",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-24","fill-opacity":"0.4",fill:"#FFFFFF",x:"15",y:"15",width:"36",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-15","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"25",width:"4",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-25","fill-opacity":"0.4",fill:"#FFFFFF",x:"15",y:"25",width:"49",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-16","fill-opacity":"0.4",fill:"#FFFFFF",x:"5",y:"35",width:"4",height:"4"}}),a("rect",{attrs:{id:"Rectangle-4-Copy-26","fill-opacity":"0.4",fill:"#FFFFFF",x:"15",y:"35",width:"19",height:"4"}})])])])])]),a("p",[t._v("Panels")])])]),t._l(t.allBaseMaps,function(t,e){return a("img",{key:e,staticClass:"preloadbasemaps",attrs:{src:t}})})],2)])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser-header"},[a("span",{staticClass:"browser-headerPoint browser-headerPoint--red"}),a("span",{staticClass:"browser-headerPoint browser-headerPoint--yellow"}),a("span",{staticClass:"browser-headerPoint browser-headerPoint--green"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser-barAddress"},[t._v("http://cartodb.github.io/airsephora"),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/javisantana"}}),a("span",[t._v("BBVA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/saleiva"}}),a("span",[t._v("Zara")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/miguelarias"}}),a("span",[t._v("Telefónica")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/matallo"}}),a("span",[t._v("Transferwise")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/arianaescobar"}}),a("span",[t._v("Heroku")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmark"},[a("img",{attrs:{src:"https://avatars.githubusercontent.com/rubenmoya"}}),a("span",[t._v("Acid tango")])])}],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser-content",style:{"background-image":"url("+t.basemap+")"},on:{dragenter:t.dragenter,dragover:t.dragover}},[a("div",{staticClass:"browser-contentElement",style:t.topToolbarStyle,attrs:{"data-layout":"toolbar|top"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.leftToolbarStyle,attrs:{"data-layout":"toolbar|left"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.rightToolbarStyle,attrs:{"data-layout":"toolbar|right"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.leftSidebarStyle,attrs:{"data-layout":"sidebars|left"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.rightSidebarStyle,attrs:{"data-layout":"sidebars|right"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.footerStyle,attrs:{"data-layout":"footer"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.topLeftPanelStyle,attrs:{"data-layout":"panels|top|left"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.topRightPanelStyle,attrs:{"data-layout":"panels|top|right"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.bottomLeftPanelStyle,attrs:{"data-layout":"panels|bottom|left"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}}),a("div",{staticClass:"browser-contentElement",style:t.bottomRightPanelStyle,attrs:{"data-layout":"panels|bottom|right"},on:{click:t.removeLayout,drop:t.onDropZone,dragenter:t.dragenterZone,dragleave:t.dragleaveZone}})])},x=[],A=(a("28a5"),a("4cf6")),E=50,_=100,D=80,B=16,k=100,$={name:"BrowserDrop",props:{draggingElement:String,basemap:String},methods:{isSelected:function(t,e){var a=this.$store.state.layout[t];return Array.isArray(a)?"panels"===t?a.some(function(t){return t.horizontalPosition===e[1]&&t.verticalPosition===e[0]}):a.some(function(t){return t.position===e[0]}):"footer"===t?null!==a:a.position===e[0]},dragenter:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()},dragenterZone:function(t){var e=t.target.dataset.layout.split("|"),a=Object(A["a"])(e),n=a[0],o=a.slice(1);this.isSelected(n,o)||(t.target.style["backgroundColor"]="rgba(0, 0, 0, 0.7)",t.target.style["transform"]="scale(.95)")},dragleaveZone:function(t){var e=t.target.dataset.layout.split("|"),a=Object(A["a"])(e),n=a[0],o=a.slice(1);t.target.style["transform"]="scale(1)",this.isSelected(n,o)||(t.target.style["backgroundColor"]=null)},onDropZone:function(t){var e=(t.target.dataset.layout||t.target.parentElement.dataset.layout).split("|"),a=Object(A["a"])(e),n=a[0],o=a.slice(1);if(t.target.style["transform"]="scale(1)","0"!==t.target.style.opacity){var r=this.$store.state.layout[n];if(Array.isArray(r))return"panels"===n?void r.push({horizontalPosition:o[1],verticalPosition:o[0]}):void r.push({position:o[0]});this.$store.state.layout[n]={position:o[0]}}},drop:function(){},styleForPanel:function(t,e){var a=this.$store.state.layout.panels.some(function(a){return a.horizontalPosition===t&&a.verticalPosition===e});return a?{opacity:(this.draggingElement,1),backgroundColor:"rgba(255, 255, 255, .8)"}:{opacity:"panel"===this.draggingElement?1:0}},panelStyle:function(t,e){var a=this.styleForPanel(t,e),n=0;this.$store.state.layout.toolbar.position!==t&&"lateralToolbar"!==this.draggingElement||(n+=E);var o=this.$store.state.layout.sidebars.some(function(e){return e.position===t});(o||"sidebar"===this.draggingElement)&&(n+=_);var r=0;return("top"===e&&"top"===this.$store.state.layout.toolbar.position||"top"===e&&"topToolbar"===this.draggingElement)&&(r+=E),("bottom"===e&&this.$store.state.layout.footer||"bottom"===e&&"footer"===this.draggingElement)&&(r+=k),a[t]="".concat(n+B,"px"),a[e]="".concat(r+B,"px"),a["width"]="".concat(D,"px"),a["height"]="".concat(D,"px"),a},removeLayout:function(t){var e=t.target.dataset.layout.split("|"),a=Object(A["a"])(e),n=a[0],o=a.slice(1);"footer"!==n?"panels"!==n?"sidebars"!==n?o[0]===this.$store.state.layout.toolbar.position&&(this.$store.state.layout.toolbar={}):this.$store.state.layout.sidebars=this.$store.state.layout.sidebars.filter(function(t){return!(t.position===o[0])}):this.$store.state.layout.panels=this.$store.state.layout.panels.filter(function(t){return!(t.verticalPosition===o[0]&&t.horizontalPosition===o[1])}):this.$store.state.layout.footer=null}},computed:{topToolbarStyle:function(){var t={};return this.$store.state.layout.toolbar.position&&"top"===this.$store.state.layout.toolbar.position?(t["opacity"]=(this.draggingElement,1),t["backgroundColor"]="rgba(242, 220, 93, .8)"):t["opacity"]="topToolbar"===this.draggingElement?1:0,t["left"]=0,t["right"]=0,t["top"]=0,t["height"]="".concat(E,"px"),t},leftToolbarStyle:function(){var t={};return this.$store.state.layout.toolbar.position&&"left"===this.$store.state.layout.toolbar.position?(t["opacity"]=(this.draggingElement,1),t["backgroundColor"]="rgba(242, 220, 93, .8)"):t["opacity"]="lateralToolbar"===this.draggingElement?1:0,t["left"]=0,t["top"]=0,t["bottom"]=0,t["width"]="".concat(E,"px"),t},rightToolbarStyle:function(){var t={};return this.$store.state.layout.toolbar.position&&"right"===this.$store.state.layout.toolbar.position?(t["opacity"]=null===this.draggingElement?1:.2,t["backgroundColor"]="rgba(242, 220, 93, 0.8) "):t["opacity"]="lateralToolbar"===this.draggingElement?1:0,t["top"]=0,t["right"]=0,t["bottom"]=0,t["width"]="".concat(E,"px"),t},leftSidebarStyle:function(){var t=this.$store.state.layout.sidebars.some(function(t){return"left"===t.position}),e={};return t?(e["opacity"]=(this.draggingElement,1),e["backgroundColor"]="rgba(255, 255, 255, 0.8) "):e["opacity"]="sidebar"===this.draggingElement?1:0,e["top"]="top"===this.$store.state.layout.toolbar.position||"topToolbar"===this.draggingElement?"".concat(E,"px"):0,e["left"]="left"===this.$store.state.layout.toolbar.position||"lateralToolbar"===this.draggingElement?"".concat(E,"px"):0,e["bottom"]=0,e["width"]="".concat(_,"px"),e},rightSidebarStyle:function(){var t=this.$store.state.layout.sidebars.some(function(t){return"right"===t.position}),e={};return t?(e["opacity"]=(this.draggingElement,1),e["backgroundColor"]="rgba(255,255,255,0.8)"):e["opacity"]="sidebar"===this.draggingElement?1:0,e["top"]="top"===this.$store.state.layout.toolbar.position||"topToolbar"===this.draggingElement?"".concat(E,"px"):0,e["right"]="right"===this.$store.state.layout.toolbar.position||"lateralToolbar"===this.draggingElement?"".concat(E,"px"):0,e["bottom"]=0,e["width"]="".concat(_,"px"),e},footerStyle:function(){var t={};null!==this.$store.state.layout.footer?(t["opacity"]=(this.draggingElement,1),t["backgroundColor"]="rgba(255,255,255,1)"):t["opacity"]="footer"===this.draggingElement?1:0;var e=0;"left"!==this.$store.state.layout.toolbar.position&&"lateralToolbar"!==this.draggingElement||(e+=E);var a=this.$store.state.layout.sidebars.some(function(t){return"left"===t.position});(a||"sidebar"===this.draggingElement)&&(e+=_);var n=0;"right"!==this.$store.state.layout.toolbar.position&&"lateralToolbar"!==this.$store.state.layout.draggingElement||(n+=E);var o=this.$store.state.layout.sidebars.some(function(t){return"right"===t.position});return(o||"sidebar"===this.draggingElement)&&(n+=_),t["left"]="".concat(e,"px"),t["right"]="".concat(n,"px"),t["bottom"]=0,t["height"]="".concat(_,"px"),t},topLeftPanelStyle:function(){return this.panelStyle("left","top")},topRightPanelStyle:function(){return this.panelStyle("right","top")},bottomLeftPanelStyle:function(){return this.panelStyle("left","bottom")},bottomRightPanelStyle:function(){return this.panelStyle("right","bottom")}}},T=$,S=(a("1f91"),Object(u["a"])(T,w,x,!1,null,"01bdd876",null));S.options.__file="BrowserDrop.vue";var L=S.exports,R=a("4935"),P=a.n(R),O=a("ef43"),j=a.n(O),z={darkmatter:P.a,voyager:j.a},M={name:"Layout",components:{BrowserDrop:L},data:function(){return{easterEgg:!1,hamOrButi:"xavijam",basemap:"voyager",draggingElement:null}},computed:{allBaseMaps:function(){return z},currentBasemap:function(){return z[this.basemap]},hasToolbar:function(){return void 0!==this.$store.state.layout.toolbar.position},hasAllSidebars:function(){return 2===this.$store.state.layout.sidebars.length},hasAllPanels:function(){return 4===this.$store.state.layout.panels.length},hasFooter:function(){return null!==this.$store.state.layout.footer}},methods:{onDrag:function(t){this.draggingElement=t.srcElement.dataset.type},onDragEnd:function(){this.draggingElement=null},onEasterEgg:function(t){t.ctrlKey&&t.shiftKey&&66===t.keyCode&&(this.easterEgg=!this.easterEgg,this.hamOrButi=Math.random()>.5?"nobuti":"xavijam")}},mounted:function(){window.addEventListener("keydown",this.onEasterEgg,this)},destroyed:function(){window.removeEventListener("keydown",this.onEasterEgg,this)}},I=M,Z=(a("14e2"),Object(u["a"])(I,v,F,!1,null,"169bb429",null));Z.options.__file="Layout.vue";var q=Z.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner"},[a("div",{staticClass:"data-container"},[a("h2",{staticClass:"data-title"},[t._v("Account info")]),a("label",{staticClass:"data-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"cartojs-test"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("p",[t._v("Introduce your username, if you don't we'd use a default username")])]),a("label",{staticClass:"data-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataset,expression:"dataset"}],attrs:{type:"text",placeholder:"Put the name of your public dataset"},domProps:{value:t.dataset},on:{input:function(e){e.target.composing||(t.dataset=e.target.value)}}})]),null!==t.geomType&&null!==t.columns?a("div",[a("h2",{staticClass:"data-title"},[t._v("Configure your map")]),a("label",{staticClass:"data-item"},[a("h3",{staticClass:"data-subtitle"},[t._v("Choose your type of map")]),a("ul",{staticClass:"list-icons"},t._l(t.mapTypesForGeom,function(e){return a("li",{key:e,staticClass:"list-iconsItem",class:{"is-active":e===t.mapType,"is-disabled":"animated"===e&&!t.isVector},on:{click:function(a){t.setMapType(e)}}},[a("div",{staticClass:"list-iconsItem"},[a("img",{staticClass:"icon-normal",attrs:{src:"/assets/maptypes/"+e+".png"}}),a("img",{staticClass:"icon-active",attrs:{src:"/assets/maptypes/"+e+"_selected.png"}})]),a("h2",[t._v(t._s(e))])])})),a("p",[t._v("The map variant will determine what type of column you can use to style")])]),null!==t.mapType&&t.columnsForMapType.length>0?a("div",[a("label",{staticClass:"data-item"},[a("h3",{staticClass:"data-subtitle"},[t._v("Choose your column")]),a("ul",{staticClass:"data-itemList"},t._l(t.columnsForMapType,function(e){return a("li",{key:e.name,staticClass:"data-itemListItem",class:{"is-active":e.name===t.columnName},on:{click:function(a){t.setColumn(e)}}},[a("span",{staticClass:"data-tag",attrs:{"data-value":e.type}},[t._v(t._s(e.type))]),a("h2",[t._v(t._s(e.name))])])})),a("p",[t._v("Maybe you don't see all the columns you were expecting to see. If this happens it's because the type of map you chose in the previous step doesn't allow the interactaction with this map")])])]):t._e(),"bubbles"!==t.mapType&&"animated"!==t.mapType&&"flow"!==t.mapType&&null!==t.columnType&&t.columnsForMapType.length>0&&t.rampsForColumnType.length>0?a("label",{staticClass:"data-item"},[a("h3",{staticClass:"data-subtitle"},[t._v("Choose your color ramp")]),a("ul",{staticClass:"data-itemList"},t._l(t.rampsForColumnType,function(e){return a("li",{key:e.name,staticClass:"data-itemListItem",class:{"is-active":e.name===t.rampName},on:{click:function(a){t.setRamp(e.name)}}},[a("div",{staticClass:"ramp-color"},t._l(e.ramp,function(t,e){return a("i",{key:e,style:{"background-color":t}})})),a("h2",[t._v(t._s(e.name))])])})),a("p",[t._v("The color scheme you pick will be used on certain map types.")])]):t._e()]):t._e()])])},G=[],V=a("c93e"),K=(a("8615"),a("96cf"),a("3040"));a("ac6a"),a("456d");function U(t,e){return Y.apply(this,arguments)}function Y(){return Y=Object(K["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(encodeURI("https://".concat(a,".carto.com/api/v2/sql?q=").concat(e,"&api_key=default_public")));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)})),Y.apply(this,arguments)}var H={Burg:{2:["#ffc6c4","#672044"],3:["#ffc6c4","#cc607d","#672044"],4:["#ffc6c4","#e38191","#ad466c","#672044"],5:["#ffc6c4","#ee919b","#cc607d","#9e3963","#672044"],6:["#ffc6c4","#f29ca3","#da7489","#b95073","#93345d","#672044"],7:["#ffc6c4","#f4a3a8","#e38191","#cc607d","#ad466c","#8b3058","#672044"],tags:["quantitative"]},BurgYl:{2:["#fbe6c5","#70284a"],3:["#fbe6c5","#dc7176","#70284a"],4:["#fbe6c5","#ee8a82","#c8586c","#70284a"],5:["#fbe6c5","#f2a28a","#dc7176","#b24b65","#70284a"],6:["#fbe6c5","#f4b191","#e7807d","#d06270","#a44360","#70284a"],7:["#fbe6c5","#f5ba98","#ee8a82","#dc7176","#c8586c","#9c3f5d","#70284a"],tags:["quantitative"]},RedOr:{2:["#f6d2a9","#b13f64"],3:["#f6d2a9","#ea8171","#b13f64"],4:["#f6d2a9","#f19c7c","#dd686c","#b13f64"],5:["#f6d2a9","#f3aa84","#ea8171","#d55d6a","#b13f64"],6:["#f6d2a9","#f4b28a","#ef9177","#e3726d","#cf5669","#b13f64"],7:["#f6d2a9","#f5b78e","#f19c7c","#ea8171","#dd686c","#ca5268","#b13f64"],tags:["quantitative"]},OrYel:{2:["#ecda9a","#ee4d5a"],3:["#ecda9a","#f7945d","#ee4d5a"],4:["#ecda9a","#f3ad6a","#f97b57","#ee4d5a"],5:["#ecda9a","#f1b973","#f7945d","#f86f56","#ee4d5a"],6:["#ecda9a","#f0c079","#f5a363","#f98558","#f76856","#ee4d5a"],7:["#ecda9a","#efc47e","#f3ad6a","#f7945d","#f97b57","#f66356","#ee4d5a"],tags:["quantitative"]},Peach:{2:["#fde0c5","#eb4a40"],3:["#fde0c5","#f59e72","#eb4a40"],4:["#fde0c5","#f8b58b","#f2855d","#eb4a40"],5:["#fde0c5","#f9c098","#f59e72","#f17854","#eb4a40"],6:["#fde0c5","#fac7a1","#f7ac80","#f38f65","#f0704f","#eb4a40"],7:["#fde0c5","#facba6","#f8b58b","#f59e72","#f2855d","#ef6a4c","#eb4a40"],tags:["quantitative"]},PinkYl:{2:["#fef6b5","#e15383"],3:["#fef6b5","#ffa679","#e15383"],4:["#fef6b5","#ffc285","#fa8a76","#e15383"],5:["#fef6b5","#ffd08e","#ffa679","#f67b77","#e15383"],6:["#fef6b5","#ffd795","#ffb77f","#fd9576","#f37378","#e15383"],7:["#fef6b5","#ffdd9a","#ffc285","#ffa679","#fa8a76","#f16d7a","#e15383"],tags:["quantitative"]},Mint:{2:["#e4f1e1","#0d585f"],3:["#e4f1e1","#63a6a0","#0d585f"],4:["#e4f1e1","#89c0b6","#448c8a","#0d585f"],5:["#E4F1E1","#9CCDC1","#63A6A0","#337F7F","#0D585F"],6:["#e4f1e1","#abd4c7","#7ab5ad","#509693","#2c7778","#0d585f"],7:["#e4f1e1","#b4d9cc","#89c0b6","#63a6a0","#448c8a","#287274","#0d585f"],tags:["quantitative"]},BluGrn:{2:["#c4e6c3","#1d4f60"],3:["#c4e6c3","#4da284","#1d4f60"],4:["#c4e6c3","#6dbc90","#36877a","#1d4f60"],5:["#c4e6c3","#80c799","#4da284","#2d7974","#1d4f60"],6:["#c4e6c3","#8dce9f","#5fb28b","#3e927e","#297071","#1d4f60"],7:["#c4e6c3","#96d2a4","#6dbc90","#4da284","#36877a","#266b6e","#1d4f60"],tags:["quantitative"]},DarkMint:{2:["#d2fbd4","#123f5a"],3:["#d2fbd4","#559c9e","#123f5a"],4:["#d2fbd4","#7bbcb0","#3a7c89","#123f5a"],5:["#d2fbd4","#8eccb9","#559c9e","#2b6c7f","#123f5a"],6:["#d2fbd4","#9cd5be","#6cafa9","#458892","#266377","#123f5a"],7:["#d2fbd4","#a5dbc2","#7bbcb0","#559c9e","#3a7c89","#235d72","#123f5a"],tags:["quantitative"]},Emrld:{2:["#d3f2a3","#074050"],3:["#d3f2a3","#4c9b82","#074050"],4:["#d3f2a3","#6cc08b","#217a79","#074050"],5:["#d3f2a3","#82d091","#4c9b82","#19696f","#074050"],6:["#d3f2a3","#8fda94","#60b187","#35877d","#145f69","#074050"],7:["#d3f2a3","#97e196","#6cc08b","#4c9b82","#217a79","#105965","#074050"],tags:["quantitative"]},BluYl:{2:["#f7feae","#045275"],3:["#f7feae","#46aea0","#045275"],4:["#f7feae","#7ccba2","#089099","#045275"],5:["#f7feae","#9bd8a4","#46aea0","#058092","#045275"],6:["#f7feae","#ace1a4","#68bfa1","#2a9c9c","#02778e","#045275"],7:["#f7feae","#b7e6a5","#7ccba2","#46aea0","#089099","#00718b","#045275"],tags:["quantitative"]},Teal:{2:["#d1eeea","#2a5674"],3:["#d1eeea","#68abb8","#2a5674"],4:["#d1eeea","#85c4c9","#4f90a6","#2a5674"],5:["#d1eeea","#96d0d1","#68abb8","#45829b","#2a5674"],6:["#d1eeea","#a1d7d6","#79bbc3","#599bae","#3f7994","#2a5674"],7:["#d1eeea","#a8dbd9","#85c4c9","#68abb8","#4f90a6","#3b738f","#2a5674"],tags:["quantitative"]},TealGrn:{2:["#b0f2bc","#257d98"],3:["#b0f2bc","#4cc8a3","#257d98"],4:["#b0f2bc","#67dba5","#38b2a3","#257d98"],5:["#b0f2bc","#77e2a8","#4cc8a3","#31a6a2","#257d98"],6:["#b0f2bc","#82e6aa","#5bd4a4","#3fbba3","#2e9ea1","#257d98"],7:["#b0f2bc","#89e8ac","#67dba5","#4cc8a3","#38b2a3","#2c98a0","#257d98"],tags:["quantitative"]},Purp:{2:["#f3e0f7","#63589f"],3:["#f3e0f7","#b998dd","#63589f"],4:["#f3e0f7","#d1afe8","#9f82ce","#63589f"],5:["#f3e0f7","#dbbaed","#b998dd","#9178c4","#63589f"],6:["#f3e0f7","#e0c2ef","#c8a5e4","#aa8bd4","#8871be","#63589f"],7:["#f3e0f7","#e4c7f1","#d1afe8","#b998dd","#9f82ce","#826dba","#63589f"],tags:["quantitative"]},PurpOr:{3:["#f9ddda","#ce78b3","#573b88"],4:["#f9ddda","#e597b9","#ad5fad","#573b88"],5:["#f9ddda","#eda8bd","#ce78b3","#9955a8","#573b88"],6:["#f9ddda","#f0b2c1","#dd8ab6","#bb69b0","#8c4fa4","#573b88"],7:["#f9ddda","#f2b9c4","#e597b9","#ce78b3","#ad5fad","#834ba0","#573b88"],tags:["quantitative"]},Sunset:{2:["#f3e79b","#5c53a5"],3:["#f3e79b","#eb7f86","#5c53a5"],4:["#f3e79b","#f8a07e","#ce6693","#5c53a5"],5:["#f3e79b","#fab27f","#eb7f86","#b95e9a","#5c53a5"],6:["#f3e79b","#fabc82","#f59280","#dc6f8e","#ab5b9e","#5c53a5"],7:["#f3e79b","#fac484","#f8a07e","#eb7f86","#ce6693","#a059a0","#5c53a5"],tags:["quantitative"]},Magenta:{2:["#f3cbd3","#6c2167"],3:["#f3cbd3","#ca699d","#6c2167"],4:["#f3cbd3","#dd88ac","#b14d8e","#6c2167"],5:["#f3cbd3","#e498b4","#ca699d","#a24186","#6c2167"],6:["#f3cbd3","#e7a2b9","#d67ba5","#bc5894","#983a81","#6c2167"],7:["#f3cbd3","#eaa9bd","#dd88ac","#ca699d","#b14d8e","#91357d","#6c2167"],tags:["quantitative"]},SunsetDark:{2:["#fcde9c","#7c1d6f"],3:["#fcde9c","#e34f6f","#7c1d6f"],4:["#fcde9c","#f0746e","#dc3977","#7c1d6f"],5:["#fcde9c","#f58670","#e34f6f","#d72d7c","#7c1d6f"],6:["#fcde9c","#f89872","#ec666d","#df4273","#c5287b","#7c1d6f"],7:["#fcde9c","#faa476","#f0746e","#e34f6f","#dc3977","#b9257a","#7c1d6f"],tags:["quantitative"]},BrwnYl:{2:["#ede5cf","#541f3f"],3:["#ede5cf","#c1766f","#541f3f"],4:["#ede5cf","#d39c83","#a65461","#541f3f"],5:["#ede5cf","#daaf91","#c1766f","#95455a","#541f3f"],6:["#ede5cf","#ddba9b","#cd8c7a","#b26166","#8a3c56","#541f3f"],7:["#ede5cf","#e0c2a2","#d39c83","#c1766f","#a65461","#813753","#541f3f"],tags:["quantitative"]},ArmyRose:{2:["#929b4f","#db8195"],3:["#a3ad62","#fdfbe4","#df91a3"],4:["#929b4f","#d9dbaf","#f3d1ca","#db8195"],5:["#879043","#c1c68c","#fdfbe4","#ebb4b8","#d8758b"],6:["#7f883b","#b0b874","#e3e4be","#f6ddd1","#e4a0ac","#d66d85"],7:["#798234","#a3ad62","#d0d3a2","#fdfbe4","#f0c6c3","#df91a3","#d46780"],tags:["diverging"]},Fall:{2:["#3d5941","#ca562c"],3:["#3d5941","#f6edbd","#ca562c"],4:["#3d5941","#b5b991","#edbb8a","#ca562c"],5:["#3d5941","#96a07c","#f6edbd","#e6a272","#ca562c"],6:["#3d5941","#839170","#cecea2","#f1cf9e","#e19464","#ca562c"],7:["#3d5941","#778868","#b5b991","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Geyser:{2:["#008080","#ca562c"],3:["#008080","#f6edbd","#ca562c"],4:["#008080","#b4c8a8","#edbb8a","#ca562c"],5:["#008080","#92b69e","#f6edbd","#e6a272","#ca562c"],6:["#008080","#7eab98","#ced7b1","#f1cf9e","#e19464","#ca562c"],7:["#008080","#70a494","#b4c8a8","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Temps:{2:["#009392","#cf597e"],3:["#009392","#e9e29c","#cf597e"],4:["#009392","#9ccb86","#eeb479","#cf597e"],5:["#009392","#71be83","#e9e29c","#ed9c72","#cf597e"],6:["#009392","#52b684","#bcd48c","#edc783","#eb8d71","#cf597e"],7:["#009392","#39b185","#9ccb86","#e9e29c","#eeb479","#e88471","#cf597e"],tags:["diverging"]},TealRose:{2:["#009392","#d0587e"],3:["#009392","#f1eac8","#d0587e"],4:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],5:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],6:["#009392","#72aaa1","#b1c7b3","#e5b9ad","#d98994","#d0587e"],7:["#009392","#72aaa1","#b1c7b3","#f1eac8","#e5b9ad","#d98994","#d0587e"],tags:["diverging"]},Tropic:{2:["#009B9E","#C75DAB"],3:["#009B9E","#F1F1F1","#C75DAB"],4:["#009B9E","#A7D3D4","#E4C1D9","#C75DAB"],5:["#009B9E","#7CC5C6","#F1F1F1","#DDA9CD","#C75DAB"],6:["#009B9E","#5DBCBE","#C6DFDF","#E9D4E2","#D99BC6","#C75DAB"],7:["#009B9E","#42B7B9","#A7D3D4","#F1F1F1","#E4C1D9","#D691C1","#C75DAB"],tags:["diverging"]},Earth:{2:["#A16928","#2887a1"],3:["#A16928","#edeac2","#2887a1"],4:["#A16928","#d6bd8d","#b5c8b8","#2887a1"],5:["#A16928","#caa873","#edeac2","#98b7b2","#2887a1"],6:["#A16928","#c29b64","#e0cfa2","#cbd5bc","#85adaf","#2887a1"],7:["#A16928","#bd925a","#d6bd8d","#edeac2","#b5c8b8","#79a7ac","#2887a1"],tags:["diverging"]},Antique:{2:["#855C75","#D9AF6B","#7C7C7C"],3:["#855C75","#D9AF6B","#AF6458","#7C7C7C"],4:["#855C75","#D9AF6B","#AF6458","#736F4C","#7C7C7C"],5:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#7C7C7C"],6:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#7C7C7C"],7:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#7C7C7C"],8:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#7C7C7C"],9:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#7C7C7C"],10:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#7C7C7C"],11:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#467378","#7C7C7C"],tags:["qualitative"]},Bold:{2:["#7F3C8D","#11A579","#A5AA99"],3:["#7F3C8D","#11A579","#3969AC","#A5AA99"],4:["#7F3C8D","#11A579","#3969AC","#F2B701","#A5AA99"],5:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#A5AA99"],6:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#A5AA99"],7:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#A5AA99"],8:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#A5AA99"],9:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#A5AA99"],10:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#A5AA99"],11:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#4b4b8f","#A5AA99"],tags:["qualitative"]},Pastel:{2:["#66C5CC","#F6CF71","#B3B3B3"],3:["#66C5CC","#F6CF71","#F89C74","#B3B3B3"],4:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#B3B3B3"],5:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#B3B3B3"],6:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#B3B3B3"],7:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#B3B3B3"],8:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#B3B3B3"],9:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B3B3B3"],10:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#B3B3B3"],11:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],tags:["qualitative"]},Prism:{2:["#5F4690","#1D6996","#666666"],3:["#5F4690","#1D6996","#38A6A5","#666666"],4:["#5F4690","#1D6996","#38A6A5","#0F8554","#666666"],5:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#666666"],6:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#666666"],7:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#666666"],8:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#666666"],9:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#666666"],10:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#666666"],11:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"],tags:["qualitative"]},Safe:{2:["#88CCEE","#CC6677","#888888"],3:["#88CCEE","#CC6677","#DDCC77","#888888"],4:["#88CCEE","#CC6677","#DDCC77","#117733","#888888"],5:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#888888"],6:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#888888"],7:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#888888"],8:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#888888"],9:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#888888"],10:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#888888"],11:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#6699CC","#888888"],tags:["qualitative","colorblind"]},Vivid:{2:["#E58606","#5D69B1","#A5AA99"],3:["#E58606","#5D69B1","#52BCA3","#A5AA99"],4:["#E58606","#5D69B1","#52BCA3","#99C945","#A5AA99"],5:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#A5AA99"],6:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#A5AA99"],7:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#A5AA99"],8:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#A5AA99"],9:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#A5AA99"],10:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#A5AA99"],11:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#CC3A8E","#A5AA99"],tags:["qualitative"]}},J=null,W={name:"Data",watch:{username:function(t){0===t.length&&this.$store.dispatch("clearVisualization"),J=setTimeout(function(){t.length>0&&this.dataset&&this.dataset.length>0&&(this.$store.dispatch("clearVisualization"),this.fetchGeom(),this.fetchRows(),this.fetchExtent())}.bind(this),300)},dataset:function(t){0===t.length&&this.$store.dispatch("clearVisualization"),clearTimeout(J),J=setTimeout(function(){t.length>0&&this.username&&this.username.length>0&&(this.$store.dispatch("clearVisualization"),this.fetchGeom(),this.fetchRows(),this.fetchExtent())}.bind(this),300)}},computed:{colorRamps:function(){var t=Object.keys(H);return t.map(function(t){return{name:t,ramp:H[t]["7"],type:H[t].tags[0]}})},geomType:function(){return this.$store.state.visualization.data.geomType},mapTypesForGeom:function(){switch(this.geomType){case"ST_Point":return["default","bubbles","category","gradient","animated"];case"ST_LineString":return["default","flow","category","gradient","animated"];case"ST_MultiPolygon":return["default","category","choropleth","animated"]}return[]},columnsForMapType:function(){if(null===this.columns)return[];var t=[];switch(this.mapType){case"category":t.push("string");break;case"choropleth":case"bubbles":case"gradient":case"flow":t.push("number");break;case"animated":t.push("number"),t.push("date");break;default:break}return this.columns.filter(function(e){return-1!==t.indexOf(e.type)})},rampsForColumnType:function(){var t=[];switch(this.columnType){case"number":t.push("quantitative"),t.push("diverging");break;case"string":t.push("qualitative");break;default:return[]}return this.colorRamps.filter(function(e){return-1!==t.indexOf(e.type)})},showColumns:function(){return null!==this.columns&&"simple"!==this.$store.state.data.mapType},mapType:function(){return this.$store.state.visualization.data.mapType},username:{get:function(){return this.$store.state.visualization.data.username},set:function(t){this.$store.commit("setUsername",t)}},dataset:{get:function(){return this.$store.state.visualization.data.dataset},set:function(t){this.$store.commit("setDataset",t)}},columns:{get:function(){return this.$store.state.visualization.data.columns},set:function(t){this.$store.commit("setColumns",t)}},columnType:function(){return this.$store.state.visualization.data.columnType},columnName:function(){return this.$store.state.visualization.data.columnName},rampName:function(){return this.$store.state.visualization.data.ramp},isVector:function(){return"cartovl"===this.$store.state.techType}},methods:{setMapType:function(t){this.$store.commit("setMapType",t),this.$store.commit("setColumnName",null),this.$store.commit("setColumnType",null),this.$store.commit("setRamp",null)},setColumn:function(t){this.$store.commit("setColumnName",t.name),this.$store.commit("setColumnType",t.type),this.$store.commit("setRamp",null)},setRamp:function(t){this.$store.commit("setRamp",t)},fetchGeom:function(){var t=Object(K["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U("SELECT ST_GeometryType(the_geom) as geom from ".concat(this.dataset," LIMIT 1"),this.username);case 2:if(e=t.sent,!e.error){t.next=5;break}return t.abrupt("return");case 5:this.$store.commit("setGeomType",e.rows[0].geom);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchRows:function(){var t=Object(K["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.columns=null,t.next=3,U("SELECT * from ".concat(this.dataset," LIMIT 0"),this.username);case 3:if(e=t.sent,!e.error){t.next=6;break}return t.abrupt("return");case 6:a=Object.values(e.fields),n=Object.keys(e.fields),this.columns=a.map(function(t,e){return Object(V["a"])({},t,{name:n[e]})});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchExtent:function(){var t=Object(K["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.extent=null,t.next=3,U("SELECT ST_Extent(the_geom) as extent FROM ".concat(this.dataset),this.username);case 3:if(e=t.sent,!e.error){t.next=6;break}return t.abrupt("return");case 6:a=e.rows[0].extent,this.$store.commit("setExtent",/BOX\((.+) (.+),(.+) (.+)\)/.exec(a).splice(1,4).map(function(t){return parseFloat(t)}));case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},X=W,Q=(a("5f82"),Object(u["a"])(X,N,G,!1,null,"4c6bc786",null));Q.options.__file="Data.vue";var tt=Q.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner"},[a("div",{staticClass:"stack-container"},[a("h2",{staticClass:"stack-title"},[t._v("CARTO Stack")]),a("p",{staticClass:"stack-description"},[t._v("You can choose between CARTO.js (raster) and CARTO VL (vector)")]),a("ul",{staticClass:"stack-options"},[a("li",{staticClass:"stack-optionsItem",class:{"is-active":t.isRaster},on:{click:t.pickRaster}},[a("div",{staticClass:"stack-optionsItemMedia"},[a("img",{staticClass:"icon-normal",attrs:{src:"/assets/stack/js.png"}}),a("img",{staticClass:"icon-active",attrs:{src:"/assets/stack/js_selected.png"}})]),a("h2",[t._v("CARTO.js")])]),a("li",{staticClass:"stack-optionsItem",class:{"is-active":t.isVector},on:{click:t.pickVector}},[a("div",{staticClass:"stack-optionsItemMedia"},[a("img",{staticClass:"icon-normal",attrs:{src:"/assets/stack/vector.png"}}),a("img",{staticClass:"icon-active",attrs:{src:"/assets/stack/vector_selected.png"}})]),a("h2",[t._v("CARTO VL")])])])])])},at=[],nt={name:"Tech",computed:{isRaster:function(){return"cartojs"===this.$store.state.techType},isVector:function(){return"cartovl"===this.$store.state.techType}},methods:{pickRaster:function(){this.$store.commit("setTech","cartojs")},pickVector:function(){this.$store.commit("setTech","cartovl")}}},ot=nt,rt=(a("5e02"),Object(u["a"])(ot,et,at,!1,null,"59f1c920",null));rt.options.__file="Tech.vue";var st=rt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"browser"},[t._m(0),a("div",{staticClass:"browser-inner"},[a("div",{staticClass:"browser-bar"},[a("ul",{staticClass:"browser-barIcons"},[a("li",{staticClass:"browser-barIconsItem"},[a("svg",{attrs:{width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{"data-v-31a768e4":"",id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{"data-v-31a768e4":"",d:"M1.26544797,3.62351861 L7.25879652,3.62351861 L7.25879652,4.37648139 L1.26544797,4.37648139 L3.78796516,7.52962788 L3.2,8 L0,4 L3.2,0 L3.78796516,0.470372124 L1.26544797,3.62351861 Z",id:"Combined-Shape",fill:"#BABCBE","fill-rule":"nonzero"}})])])]),a("li",{staticClass:"browser-barIconsItem"},[a("svg",{attrs:{width:"8px",height:"8px",viewBox:"0 0 8 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{"data-v-31a768e4":"",id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{"data-v-31a768e4":"",d:"M1.26544797,3.62351861 L7.25879652,3.62351861 L7.25879652,4.37648139 L1.26544797,4.37648139 L3.78796516,7.52962788 L3.2,8 L0,4 L3.2,0 L3.78796516,0.470372124 L1.26544797,3.62351861 Z",id:"Combined-Shape-Copy",fill:"#BABCBE","fill-rule":"nonzero",transform:"translate(3.629398, 4.000000) rotate(-180.000000) translate(-3.629398, -4.000000) "}})])])])]),t._m(1)]),a("div",{staticClass:"browser-content"})])]),a("div",{staticClass:"export-iframe"},[a("iframe",{ref:"iframe"})]),a("div",{staticClass:"export"},[a("h1",[t._v("Here's a preview of your map")]),a("ul",{staticClass:"export-list"},[t._m(2),a("li",[a("button",{staticClass:"export-button",on:{click:t.exportZip}},[t._v("Zip file")])]),a("li",[a("form",{attrs:{action:"https://codepen.io/pen/define",method:"POST",target:"_blank"}},[a("input",{attrs:{type:"hidden",name:"data"},domProps:{value:t.codepen}}),a("input",{staticClass:"export-button export-button--secondary",attrs:{type:"submit",value:"Edit on Codepen"}})])])])])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser-header"},[a("span",{staticClass:"browser-headerPoint browser-headerPoint--red"}),a("span",{staticClass:"browser-headerPoint browser-headerPoint--yellow"}),a("span",{staticClass:"browser-headerPoint browser-headerPoint--green"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browser-barAddress"},[t._v("http://cartodb.github.io/airsephora\n            "),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("h2",[t._v("Export to")])])}],ct=(a("a481"),a("7c39")),dt=a.n(ct),ut=a("76e9");function pt(t){var e=new dt.a;return Object.keys(t).forEach(function(a){return e.file(a,t[a])}),e.generateAsync({type:"blob"}).then(function(t){return Object(ut["a"])(t,"airship-template.zip")})}var ft={vanilla:a("1b13").default},mt={generateStyle:a("7b26").default,generateLayout:a("dd3d").default,generateVisualization:a("55ef").default};function ht(t){var e={};return t.layout.toolbar&&(e.toolbar={position:t.layout.toolbar.position}),{style:mt.generateStyle(t.ui),layout:mt.generateLayout(t.layout),visualization:mt.generateVisualization(t.visualization),options:e}}var gt=function(t){return ft.vanilla(ht(t))};function bt(t){switch(t){case"ST_Point":return"point";case"ST_LineString":return"line";case"ST_MultiPolygon":return"polygon"}}var yt={name:"Export",data:function(){return{files:{},inject:""}},watch:{inject:function(t){var e=this.$refs.iframe.contentWindow.document;e.open(),e.write(t),e.close()}},methods:{exportZip:function(){pt(this.files)},exportCodePen:function(){this.$store.dispatch("generateCodePen",this.files)},reload:function(){this.generateData()},generateData:function(){var t={ui:{colors:this.$store.state.color},layout:this.$store.state.layout,visualization:{library:this.$store.state.techType,data:{apiKey:"default_public",username:this.$store.state.visualization.data.username,map:{type:this.$store.state.visualization.data.mapType,geometry:bt(this.$store.state.visualization.data.geomType),basemap:this.$store.state.visualization.basemap,extent:this.$store.state.visualization.data.extent,dataset:this.$store.state.visualization.data.dataset,column:this.$store.state.visualization.data.columnName,columnType:this.$store.state.visualization.data.columnType,colorRamp:this.$store.state.visualization.data.ramp}}}};console.log(t);var e=gt(t),a=e.files,n=e.inject;this.files=a,this.inject=n;var o=this.$refs.iframe.contentWindow.document;o.open(),o.write(n),o.close()}},computed:{codepen:function(){return JSON.stringify({html:this.files["index.html"],js:this.files["src/app.js"]})}},mounted:function(){null===this.$store.state.techType?this.$router.replace({name:"home"}):this.generateData()}},Ct=yt,vt=(a("a042"),Object(u["a"])(Ct,it,lt,!1,null,null,null));vt.options.__file="Export.vue";var Ft=vt.exports;n["a"].use(s["a"]);var wt="colors",xt="layout",At="data",Et="tech",_t=[wt,xt,Et,At],Dt=new s["a"]({mode:"history",routes:[{path:"/",name:"home",component:f},{path:"/bandera",name:"export",component:Ft},{path:"/colors",name:wt,component:C},{path:"/layout",name:xt,component:q},{path:"/data",name:At,component:tt},{path:"/tech",name:Et,component:st}]}),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progressBg"},[a("div",{staticClass:"progressBar",style:{width:t.progress+"%"}})])},kt=[],$t=(a("c5f6"),{props:{progress:{type:Number,default:0}}}),Tt=$t,St=(a("35fd"),Object(u["a"])(Tt,Bt,kt,!1,null,"8e7eaf92",null));St.options.__file="ProgressBar.vue";var Lt=St.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"step-wrapper"},t._l(t.steps,function(e,n){return a("li",{key:n,staticClass:"step",class:{"step-number--active":n<=t.index,"step-number--completed":-1!==t.completedSteps.indexOf(e)},on:{click:function(a){t.goTo(e)}}},[a("div",{staticClass:"step-name"},[t._v("\n      "+t._s(e)+"\n    ")])])}))},Pt=[],Ot={name:"Progress",props:{index:{type:Number,default:0}},computed:{completedSteps:function(){return this.$store.state.completedSteps}},data:function(){return{steps:_t}},methods:{goTo:function(t){var e=_t.indexOf(t);e<=this.$store.state.completedIndex+1&&this.$router.push({name:t})}}},jt=Ot,zt=(a("d46e"),Object(u["a"])(jt,Rt,Pt,!1,null,"6891ff46",null));zt.options.__file="Progress.vue";var Mt=zt.exports,It={components:{ProgressBar:Lt,Progress:Mt},methods:{previousStep:function(){var t=_t.indexOf(this.$route.name);"export"===this.$route.name&&this.$router.push({name:_t[_t.length-1]}),-1!==t&&t>0&&this.$router.push({name:_t[t-1]})},completeStep:function(){this.$store.commit("completeStep",this.$route.name);var t=_t.indexOf(this.$route.name);-1!==t&&t<_t.length-1?this.$router.push({name:_t[t+1]}):t===_t.length-1&&this.$router.push({name:"export"})}},computed:{nextButtonCaption:function(){var t="export"===this.$route.name||this.$route.name===_t[_t.length-1];return t?"Finish":"Next"},nextButtonDisabled:function(){return"export"===this.$route.name||"tech"===this.$route.name&&null===this.$store.state.techType},previousButtonDisabled:function(){return this.$route.name===_t[0]},completedSteps:function(){return this.$store.state.completedSteps},routeIndex:function(){return"export"===this.$route.name?_t.length:_t.indexOf(this.$route.name)},onHome:function(){return"home"===this.$route.name},progress:function(){return"export"===this.$route.name?100:Math.floor((this.routeIndex+1)/_t.length*100)},helpForStep:function(){switch(this.$route.name){case"colors":return"Press the spacebar to switch colors or create your own color ramp";case"layout":return"Drag and drop the components to create your own Airship layout";case"data":return"Configure what data to show";case"tech":return"You can choose between CARTOjs or CARTO VL";default:return null}}}},Zt=It,qt=(a("41cd"),Object(u["a"])(Zt,o,r,!1,null,"7458e342",null));qt.options.__file="App.vue";var Nt=qt.exports,Gt=a("2f62"),Vt=a("6149"),Kt=a.n(Vt);function Ut(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function Yt(){return Math.random()>.5?"+":"-"}n["a"].use(Gt["a"]);var Ht=new Gt["a"].Store({state:{color:{primary:"#FFA630",secondary:"#D7E8BA",complementary:"#2E5077"},completedSteps:[],completedIndex:0,layout:{toolbar:{},sidebars:[],panels:[],footer:null},techType:null,visualization:{basemap:"voyager",data:{geomType:null,mapType:null,username:null,dataset:null,extent:null,ramp:null,columnName:null,columnType:null,columns:null}}},mutations:{completeStep:function(t,e){var a=_t.indexOf(e);-1===t.completedSteps.indexOf(e)&&(t.completedSteps.push(e),a>t.completedIndex&&(t.completedIndex=a))},setPrimaryColor:function(t,e){t.color.primary=e},setSecondaryColor:function(t,e){t.color.secondary=e},setComplementaryColor:function(t,e){t.color.complementary=e},setUsername:function(t,e){t.visualization.data.username=e},setDataset:function(t,e){t.visualization.data.dataset=e},setExtent:function(t,e){t.visualization.data.extent=e},setApiKey:function(t,e){t.visualization.data.apiKey=e},setMapType:function(t,e){t.visualization.data.mapType=e},setColumnName:function(t,e){t.visualization.data.columnName=e},setColumnType:function(t,e){t.visualization.data.columnType=e},setRamp:function(t,e){t.visualization.data.ramp=e},setColumns:function(t,e){t.visualization.data.columns=e},setGeomType:function(t,e){t.visualization.data.geomType=e},setPrimaryColorAndRandomize:function(t,e){var a=Kt()(e),n=a.set("hsl.l","*".concat(Ut(80,85)/100)).set("hsv.h","".concat(Yt()).concat(Ut(0,5))),o=a.set("hsl.h","".concat(Yt(),"135"));t.color.primary=a,t.color.secondary=n,t.color.complementary=o},setBasemap:function(t,e){t.visualization.basemap=e},setTech:function(t,e){t.techType=e}},actions:{randomizeColors:function(t){t.commit("setPrimaryColorAndRandomize",Kt.a.random().hex())},clearVisualization:function(t){t.commit("setGeomType",null),t.commit("setMapType",null),t.commit("setRamp",null),t.commit("setColumnName",null),t.commit("setColumnType",null)}}});n["a"].config.productionTip=!1,new n["a"]({router:Dt,store:Ht,render:function(t){return t(Nt)}}).$mount("#app")},"5e02":function(t,e,a){"use strict";var n=a("eb92"),o=a.n(n);o.a},"5f82":function(t,e,a){"use strict";var n=a("9995"),o=a.n(n);o.a},6078:function(t,e,a){},"60dd":function(t,e,a){},6550:function(t,e){t.exports='\x3c!-- Include CARTO VL JS --\x3e\n<script src="https://libs.cartocdn.com/carto-vl/v0.8.0/carto-vl.js"><\/script>\n\x3c!-- Include Mapbox GL JS --\x3e\n<script src="https://libs.cartocdn.com/mapbox-gl/v0.48.0-carto1/mapbox-gl.js"><\/script>\n\x3c!-- Include Mapbox GL CSS --\x3e\n<link href="https://libs.cartocdn.com/mapbox-gl/v0.48.0-carto1/mapbox-gl.css" rel="stylesheet" />\n'},"6fd4":function(t,e){t.exports='<div id="map"></div>\n'},7:function(t,e){},7081:function(t,e,a){var n={"./cartojs.template.code":"0ae8","./cartovl.template.code":"13d0"};function o(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="7081"},7505:function(t,e,a){"use strict";var n=a("f70f"),o=a.n(n);o.a},"7b26":function(t,e,a){"use strict";a.r(e);var n=a("d491"),o=a.n(n),r=a("fa45"),s=a.n(r),i=function(t){return o.a.render(s.a,t)},l=a("8973"),c=a.n(l);function d(t){var e=i(t);return o.a.render(c.a,{cssVariables:e})}a.d(e,"default",function(){return d})},"7f9f":function(t,e,a){},8:function(t,e){},8220:function(t,e,a){"use strict";var n=a("60dd"),o=a.n(n);o.a},8973:function(t,e){t.exports="<style>\n  <%- cssVariables -%>\n</style>\n"},"947f":function(t,e){t.exports='<header class="as-toolbar"></header>\n'},9995:function(t,e,a){},"9fb4":function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n\n  <title>Project Title</title>\n\n  <%- libraries[visualization.library] -%>\n\n  <%- libraries[\'airship\'] -%>\n\n  <%- style -%>\n</head>\n\n<body class="as-app<% if (options.toolbar) { %> as-app--nav-<%- options.toolbar.position -%><% } %>">\n  <%- layout -%>\n\n  <script src="src/app.js"><\/script>\n</body>\n\n</html>\n'},a042:function(t,e,a){"use strict";var n=a("5614"),o=a.n(n);o.a},a5d3:function(t,e){t.exports='\x3c!-- Include Leaflet --\x3e\n<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"><\/script>\n<link href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" rel="stylesheet">\n\x3c!-- Include CARTO.js --\x3e\n<script src="https://libs.cartocdn.com/carto.js/v4.1.6/carto.min.js"><\/script>\n'},c8ea:function(t,e){t.exports='<%- toolbar -%>\n\n<div class="as-content">\n  <main class="as-main">\n    <div class="as-map-area">\n      <%- map -%>\n\n      <%- panels -%>\n    </div>\n\n    <%- footer -%>\n  </main>\n\n  <% sidebars.map(sidebar => { %>\n    <%- sidebar -%>\n  <% }); %>\n</div>\n'},d46e:function(t,e,a){"use strict";var n=a("edb6"),o=a.n(n);o.a},d8d6:function(t,e,a){},dd3d:function(t,e,a){"use strict";a.r(e);var n=a("d491"),o=a.n(n),r=a("947f"),s=a.n(r),i=function(t){return o.a.render(s.a,t)},l=a("23cd"),c=a.n(l),d=a("6fd4"),u=a.n(d),p=function(t){return o.a.render(u.a,t)},f=a("ebcc"),m=a.n(f),h=function(t){return o.a.render(m.a,{panels:t})},g=a("20b1"),b=a.n(g),y=function(t){return o.a.render(b.a,t)},C=a("c8ea"),v=a.n(C);function F(t){var e=t.toolbar&&t.toolbar.position?i(t.toolbar):"",a=t.sidebars&&t.sidebars.length?t.sidebars.map(c.a):[],n=p(t.map),r=t.panels&&t.panels.length?h(t.panels):[],s=t.footer?y(t.footer):"";return o.a.render(v.a,{toolbar:e,sidebars:a,map:n,panels:r,footer:s})}a.d(e,"default",function(){return F})},e7d4:function(t,e){t.exports='<aside class="as-sidebar as-sidebar--<%= position %>"></aside>\n'},eb92:function(t,e,a){},ebcc:function(t,e){t.exports='<div class="as-map-panels">\n  <% panels.map(panel => { %>\n  <div class="as-panel as-panel--<%- panel.horizontalPosition -%> as-panel--<%- panel.verticalPosition -%>">\n    \x3c!-- Here goes the code of your own panels. Remove this HTML placeholder--\x3e\n    <div class="as-panel__element as-p--32"></div>\n  </div>\n  <% }) %>\n</div>\n'},edb6:function(t,e,a){},ef43:function(t,e,a){t.exports=a.p+"img/voyager.ae09f749.png"},f70f:function(t,e,a){},fa45:function(t,e){t.exports=":root {\n  --as-color-primary: <%- colors.primary -%>;\n  --as-color-secondary: <%- colors.secondary -%>;\n  --as-color-complementary: <%- colors.complementary -%>;\n}\n"}});
//# sourceMappingURL=app.83f3ac2c.js.map